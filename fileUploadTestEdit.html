<html>
<body>



<canvas id="imageCanvas"></canvas>
<form action="testUploadEdit.php" method="post" enctype="multipart/form-data" >
<label for="file">Filename:</label>
<input type="file" accept="image/*;capture=camera" name="imageLoader" id="imageLoader"><br>

<input type="submit" name="submit" value="Submit">
</form>
<script>
var imageLoader = document.getElementById('imageLoader');
    imageLoader.addEventListener('change', handleImage, false);
var canvas = document.getElementById('imageCanvas');
var ctx = canvas.getContext('2d');


function handleImage(e){
    var imageScaleWidth = 500;
    var reader = new FileReader();
    reader.onload = function(event){
        var img = new Image();
        img.onload = function(){
            canvas.width = imageScaleWidth;
            canvas.height = imageScaleWidth * img.height / img.width;
            ctx.drawImage(img,0,0,imageScaleWidth,imageScaleWidth * img.height / img.width);
        }
        img.src = event.target.result;
    }
    reader.readAsDataURL(e.target.files[0]);     
}
</script>

</body>
</html>